<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juegos</title>
    <style>
        @keyframes bgCycle{0%{background-image:url('images/galaxy.jpg')}33.33%{background-image:url('images/cyberpunk_neon_background.jpg')}66.66%{background-image:url('images/retro_arcade_machines.jpg')}100%{background-image:url('images/galaxy.jpg')}}
        @keyframes pulse{0%,100%{transform:scale(1);text-shadow:2px 2px 4px rgba(0,0,0,.4)}50%{transform:scale(1.05);text-shadow:4px 4px 8px rgba(0,0,0,.5)}}
        @keyframes fade{0%{opacity:1}100%{opacity:0.5}}
        body{font-family:'Poppins',Arial,sans-serif;display:flex;flex-direction:column;align-items:center;background-size:cover;background-position:center;background-repeat:no-repeat;animation:bgCycle 15s ease infinite;color:#fff;margin:0;padding:20px;min-height:100vh}
        h1{font-size:3.5em;font-weight:900;background:linear-gradient(45deg,#ff6b6b,#ff8e53);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:2px 2px 4px rgba(0,0,0,.4);margin:0 0 20px;animation:pulse 2s ease infinite}
        h2{font-size:2.5em;font-weight:700;background:linear-gradient(45deg,#1e3c72,#2a5298);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:1px 1px 2px rgba(0,0,0,.3);text-align:center;margin:0 0 15px;animation:pulse 2.5s ease infinite}
        #scoreboard{background:rgba(255,255,255,.9);border-radius:10px;padding:15px;margin:0 0 20px;width:90%;max-width:800px;box-shadow:0 4px 8px rgba(0,0,0,.3);color:#1e3c72;text-align:center}
        #scoreboard h3{font-size:1.5em;margin:0 0 10px}
        #scoreboard p{font-size:1.1em;margin:5px}
        #menu{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:15px;width:90%;max-width:800px}
        .menu-button{padding:15px;font-size:1.1em;cursor:pointer;background:linear-gradient(135deg,#ff6b6b,#ff8e53);color:#fff;border:none;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,.3);transition:transform .3s,box-shadow .3s,background .3s;display:flex;align-items:center;justify-content:center;gap:8px}
        .menu-button:hover{transform:translateY(-3px);box-shadow:0 6px 12px rgba(0,0,0,.4);background:linear-gradient(135deg,#ff8e53,#ff6b6b)}
        .game-container{display:none;margin-top:20px;background:rgba(255,255,255,.95);border-radius:15px;padding:20px;box-shadow:0 8px 16px rgba(0,0,0,.3);width:90%;max-width:700px;animation:slideIn .5s ease}
        @keyframes slideIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        #tic-tac-toe-board{display:grid;grid-template-columns:repeat(3,100px);gap:8px;justify-content:center}
        .cell{width:100px;height:100px;background:#e0f7fa;border:3px solid #1e3c72;border-radius:10px;font-size:45px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s,transform .2s}
        .cell:hover{background:#b2ebf2;transform:scale(1.05)}
        #hangman-word{font-size:28px;letter-spacing:8px;margin:20px 0;color:#1e3c72;text-align:center;font-weight:700}
        #hangman-guess{padding:10px;font-size:16px;border-radius:6px;border:2px solid #1e3c72;margin-right:10px}
        #hangman-guess:focus{border-color:#ff6b6b;outline:none}
        #hangman-hint{color:#ff6b6b;font-size:1.1em;text-align:center;margin:10px 0;font-style:italic;background:rgba(255,107,107,.1);padding:8px;border-radius:6px}
        #snake-canvas{border:3px solid #1e3c72;border-radius:10px;background:#fff;box-shadow:0 4px 8px rgba(0,0,0,.2)}
        #snake-canvas.game-over{animation:fade 1s forwards}
        .game-container button{background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;border:none;padding:10px 20px;border-radius:6px;margin-top:15px}
        .game-container button:hover{background:linear-gradient(135deg,#2a5298,#1e3c72);transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.3)}
        p{color:#1e3c72;font-size:1.2em;text-align:center;margin:10px}
        .game-icon::before{font-family:'FontAwesome';font-size:1.3em}
        .tic-tac-toe-icon::before{content:'\f00a'}
        .hangman-icon::before{content:'\f6d7'}
        .snake-icon::before{content:'\f21d'}
    </style>
</head>
<body>
    <h1>Juegos</h1>
    <div id="scoreboard">
        <h3>Puntuación Global</h3>
        <p id="total-score">Total: 0</p>
        <p id="tic-tac-toe-score">Tic Tac Toe: 0</p>
        <p id="hangman-score">Ahorcado: 0</p>
        <p id="snake-score">Serpiente: 0</p>
    </div>
    <div id="menu">
        <button class="menu-button tic-tac-toe-icon" onclick="show('tic-tac-toe')">Tic Tac Toe</button>
        <button class="menu-button hangman-icon" onclick="show('hangman')">Ahorcado</button>
        <button class="menu-button snake-icon" onclick="show('snake')">Serpiente</button>
    </div>
    <div id="tic-tac-toe" class="game-container">
        <h2>Tic Tac Toe</h2>
        <div id="tic-tac-toe-board"></div>
        <p id="tic-tac-toe-status">Turno: X</p>
        <button onclick="resetTTT()">Reiniciar</button>
    </div>
    <div id="hangman" class="game-container">
        <h2>Ahorcado</h2>
        <div id="hangman-word"></div>
        <p id="hangman-hint">Pista: ¡Intenta adivinar!</p>
        <input id="hangman-guess" type="text" placeholder="Adivina">
        <button onclick="guess()">Adivinar</button>
        <p id="hangman-status">Intentos: 6</p>
        <button onclick="resetHangman()">Reiniciar</button>
    </div>
    <div id="snake" class="game-container">
        <h2>Serpiente</h2>
        <canvas id="snake-canvas" width="400" height="400"></canvas>
        <p id="snake-status">Usa flechas para mover, P para pausar/reanudar</p>
        <button onclick="startSnake()">Iniciar</button>
    </div>
    <script>
        let scores={ticTacToe:0,hangman:0,snake:0};loadScores();
        function loadScores(){let s=localStorage.getItem('gameScores');if(s)scores=JSON.parse(s);updateScore()}
        function saveScores(){localStorage.setItem('gameScores',JSON.stringify(scores));updateScore()}
        function updateScore(){let t=scores.ticTacToe+scores.hangman+scores.snake;document.getElementById('total-score').textContent=`Total: ${t}`;document.getElementById('tic-tac-toe-score').textContent=`Tic Tac Toe: ${scores.ticTacToe}`;document.getElementById('hangman-score').textContent=`Ahorcado: ${scores.hangman}`;document.getElementById('snake-score').textContent=`Serpiente: ${scores.snake}`}
        function show(id){document.querySelectorAll('.game-container').forEach(c=>c.style.display='none');document.getElementById(id).style.display='block';if(sInt){clearInterval(sInt);sInt=null}initSnake();if(id==='tic-tac-toe')resetTTT();if(id==='hangman')resetHangman();if(id==='snake')startSnake()}
        // Tic Tac Toe
        let player='X',tttBoard=['','','','','','','','',''],active=true;
        function initTTT(){let b=document.getElementById('tic-tac-toe-board');b.innerHTML='';for(let i=0;i<9;i++){let c=document.createElement('div');c.classList.add('cell');c.dataset.index=i;c.addEventListener('click',handleCell);b.appendChild(c)}}
        function handleCell(e){let i=e.target.dataset.index;if(tttBoard[i]===''&&active){tttBoard[i]=player;e.target.textContent=player;if(checkWin()){document.getElementById('tic-tac-toe-status').textContent=`¡${player} gana!`;scores.ticTacToe+=100;saveScores();active=false}else if(tttBoard.every(c=>c!=='')){document.getElementById('tic-tac-toe-status').textContent='¡Empate!';scores.ticTacToe+=50;saveScores();active=false}else{player=player==='X'?'O':'X';document.getElementById('tic-tac-toe-status').textContent=`Turno: ${player}`}}}
        function checkWin(){return[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]].some(c=>c.every(i=>tttBoard[i]===player))}
        function resetTTT(){tttBoard=['','','','','','','','',''];player='X';active=true;document.getElementById('tic-tac-toe-status').textContent='Turno: X';initTTT()}
        // Hangman
        let word='',attempts=6,over=false,guessed=[],hints=0;
        function initHangman(){let w=['JUEGO','SOL','LUNA','CASA','ARBOL','RIO','CIELO','MAR'];word=w[Math.floor(Math.random()*w.length)];attempts=6;over=false;guessed=[];hints=0;updateHangman();hint()}
        function updateHangman(){let d=over?word:word.split('').map(l=>'_').join(' ');document.getElementById('hangman-word').textContent=d;document.getElementById('hangman-status').textContent=`Intentos: ${attempts}`;if(over&&attempts>0){document.getElementById('hangman-status').textContent='¡Ganaste!';scores.hangman+=200;saveScores()}else if(over&&attempts===0)document.getElementById('hangman-status').textContent=`Perdiste. Palabra: ${word}`}
        function hint(){if(hints>=3||over)return;let l=word.split(''),u=l.filter((t,i)=>!guessed.includes(t)&&l.indexOf(t)===i);if(u.length===0){document.getElementById('hangman-hint').textContent='Pista: ¡No más letras!';return}if(attempts===5&&hints===0){let t=u[Math.floor(Math.random()*u.length)],p=l.indexOf(t)+1;document.getElementById('hangman-hint').textContent=`Pista: "${t}" en posición ${p}`;hints++}else if(attempts===3&&hints===1){let t=u[Math.floor(Math.random()*u.length)],p=l.lastIndexOf(t)+1;document.getElementById('hangman-hint').textContent=`Pista: "${t}" en posición ${p}`;hints++}else if(attempts===1&&hints===2){let t=u[Math.floor(Math.random()*u.length)];document.getElementById('hangman-hint').textContent=`Pista: Contiene "${t}"`;hints++}else document.getElementById('hangman-hint').textContent='Pista: ¡Intenta adivinar!'}
        function guess(){if(over)return;let i=document.getElementById('hangman-guess'),w=i.value.toUpperCase().trim();i.value='';if(w){guessed.push(...w.split(''));if(w===word)over=true;else{attempts--;if(attempts===0)over=true}updateHangman();hint()}}
        function resetHangman(){initHangman();document.getElementById('hangman-guess').value=''}
        // Snake
        let snake=[{x:10,y:10}],food={x:15,y:15},dx=0,dy=0,sInt=null,paused=false,canvas=document.getElementById('snake-canvas'),ctx=canvas.getContext('2d');
        function initSnake(){snake=[{x:10,y:10}];food={x:15,y:15};dx=0;dy=0;paused=false;scores.snake=0;canvas.classList.remove('game-over');newFood();document.getElementById('snake-status').textContent='Usa flechas para mover, P para pausar/reanudar';if(sInt)clearInterval(sInt)}
        function newFood(){let t=canvas.width/20;food.x=Math.floor(Math.random()*t);food.y=Math.floor(Math.random()*t);if(snake.some(s=>s.x===food.x&&s.y===food.y))newFood()}
        function drawSnake(){ctx.clearRect(0,0,400,400);ctx.fillStyle='#4CAF50';snake.forEach(s=>ctx.fillRect(s.x*20,s.y*20,18,18));ctx.fillStyle='#ff6b6b';ctx.fillRect(food.x*20,food.y*20,18,18)}
        function updateSnake(){if(paused)return;let h={x:snake[0].x+dx,y:snake[0].y+dy};if(h.x<0||h.x>=20||h.y<0||h.y>=20||snake.some(s=>s.x===h.x&&s.y===h.y)){endSnake();return}snake.unshift(h);if(h.x===food.x&&h.y===food.y){scores.snake+=10;saveScores();newFood()}else snake.pop();drawSnake();document.getElementById('snake-score').textContent=`Serpiente: ${scores.snake}`}
        function endSnake(){clearInterval(sInt);sInt=null;canvas.classList.add('game-over');document.getElementById('snake-status').textContent=`¡Fin! Puntuación: ${scores.snake}. Presiona Iniciar`;saveScores()}
        function startSnake(){initSnake();if(!sInt){sInt=setInterval(updateSnake,100);drawSnake()}}
        document.addEventListener('keydown',e=>{if(document.getElementById('snake').style.display==='block'){if(e.key==='ArrowUp'&&dy===0){dx=0;dy=-1}else if(e.key==='ArrowDown'&&dy===0){dx=0;dy=1}else if(e.key==='ArrowLeft'&&dx===0){dx=-1;dy=0}else if(e.key==='ArrowRight'&&dx===0){dx=1;dy=0}else if(e.key==='p'||e.key==='P'){if(sInt){paused=!paused;document.getElementById('snake-status').textContent=paused?`Pausado (Puntuación: ${scores.snake})`:`Usa flechas para mover, P para pausar/reanudar`}}}});
        // Init
        loadScores();initTTT();initHangman();initSnake();
    </script>
</body>
</html>